<p style="color: green"><%= notice %></p>

<h1 class="h3 mb--4 text-gray-800" >Produtos</h1>

<div class="row">

  <div class="col-lg-12">

    <div class="card shadow mb-4">

      <div class="card-body">

        <table class="table table-striped">
          <thead>
            <th>Nome</th>
            <th>Descrição</th>
            <th>Preço</th>
            <th>Categoria</th>
            <th>Ativo</th>
            <th>Ações</th>
            <tbody>
              
          <% @products.includes(:category).each do |product| %>
            <tr>
              <td><%= product.name %></td>
              <td><%= product.description %></td>
              <td><%= product.price %></td>
              <td><%= product.category.name %></td>
              <td><%= status_publish(product.publish) %></td>
            
              <td><%= link_to "", admin_product_path(product), class: "btn btn-info bi bi-chevron-bar-expand" %></td>
              <td><%= link_to "", admin_edit_product_path(product), "data-controller": "admin-modal", class: "btn btn-warning bi bi-pencil" %></td>
              <td><%= button_to "", admin_destroy_product_path(product), method: :delete, class: "btn btn-danger bi bi-trash", onclick: "return confirm('Deseja realmente excluir?')" %></td>

            </tr>
          <% end %>
          </tr>
          </tbody>
        </table>
  
        </div>

      </div>

    </div>

  </div>

<%= link_to "Novo produto", admin_new_product_path, class: "btn btn-primary" %>
